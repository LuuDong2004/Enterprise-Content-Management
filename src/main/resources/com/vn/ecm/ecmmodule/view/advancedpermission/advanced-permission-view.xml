<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<view xmlns="http://jmix.io/schema/flowui/view"
      title="Phân quyền nâng cao">
    <data>
        <collection id="permissionsDc" class="com.vn.ecm.ecmmodule.entity.Permission">
            <fetchPlan extends="_base">
                <property name="user" fetchPlan="_base"/>
                <property name="folder" fetchPlan="_base"/>
                <property name="file" fetchPlan="_base"/>
                <property name="roleCode"/>
                <property name="permissionType"/>
                <property name="permissionMask"/>
                <property name="inherited"/>
                <property name="inheritEnabled"/>
                <property name="inheritedFrom"/>
                <property name="appliesTo"/>
            </fetchPlan>
            <loader id="permissionsDl">
                <!-- Loader sẽ được gọi programmatically từ Java code -->
            </loader>
        </collection>
    </data>

    <layout width="900px" height="100%">
        <!-- Object name info -->
        <textArea id="pathArea" label="Đường dẫn:" readOnly="true" width="100%"/>

        <!-- Permission entries table -->
        <dataGrid id="permissionDataGrid"
                  dataContainer="permissionsDc"
                  width="100%" height="300px">
            <columns>
                <!-- Columns được tạo programmatically trong Java code -->
            </columns>
        </dataGrid>

        <!-- Inheritance options -->
        <vbox spacing="true" width="100%">
            <button id="disableInheritanceBtn" text="Disable inheritance"/>
            <checkbox id="replaceChildPermissions"
                      label="Thay thế tất cả các quyền của đối tượng con bằng quyền kế thừa từ đối tượng này"/>
        </vbox>

        <!-- Bottom buttons -->
        <hbox spacing="true" alignSelf="END">
            <button id="cancelBtn" text="Hủy"/>
            <button id="applyBtn" text="Xác nhận"/>
        </hbox>
    </layout>
</view>