<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<view xmlns="http://jmix.io/schema/flowui/view"
      title="msg://advancedPermissionView.title">
    <data>
        <collection id="permissionsDc" class="com.vn.ecm.entity.Permission">
            <fetchPlan extends="_base">
                <property name="user" fetchPlan="_base"/>
                <property name="folder" fetchPlan="_base"/>
                <property name="file" fetchPlan="_base"/>
                <property name="roleCode"/>
                <property name="permissionType"/>
                <property name="permissionMask"/>
                <property name="inherited"/>
                <property name="inheritEnabled"/>
                <property name="inheritedFrom"/>
                <property name="appliesTo"/>
            </fetchPlan>
            <loader id="permissionsDl">
                <!-- Loader sẽ được gọi programmatically từ Java code -->
            </loader>
        </collection>
    </data>

    <layout width="100%" height="100%">
        <!-- Object name info -->
        <textArea id="pathArea" label="Path:" readOnly="true" width="100%"/>

        <!-- Permission entries table -->
        <dataGrid id="permissionDataGrid"
                  dataContainer="permissionsDc"
                  width="100%" height="300px">
            <columns>
                <!-- Columns được tạo programmatically trong Java code -->
            </columns>
        </dataGrid>

        <!-- Inheritance options -->
        <vbox spacing="true" width="100%">
            <button id="disableInheritanceBtn" text="Disable inheritance"/>
            <checkbox id="replaceChildPermissions"
                      label="Replace all child object permission entries with inheritable permission entries from this object"/>
        </vbox>

        <!-- Bottom buttons -->
        <hbox spacing="true" alignSelf="END">
            <button id="cancelBtn" text="Cancel"/>
            <button id="applyBtn" text="Apply"/>
        </hbox>
    </layout>
</view>